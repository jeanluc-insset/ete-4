<?xml version="1.0" encoding="UTF-8"?>


<mda>


    <transformation-set output_base="../${project}">


        <velocity template="class2interface.vm"
                    items="${classes}"
                    target='${project}-api/src/main/java/${current.owningPackage.name.replaceAll("\\.", "/")}/${prefix}${current.name}.java'/>

        <velocity template="enumeration.vm"
                    items="${enumerations}"
                    target='${project}-api/src/main/java/${current.owningPackage.name.replaceAll("\\.", "/")}/${prefix}${current.name}.java'/>

        <velocity template="class2class.vm"
                    items="${classes}"
                    target='${project}-impl/src/main/java/${current.owningPackage.name.replaceAll("\\.", "/")}/${prefix}${current.name}Impl.java'/>


        <!-- The optional classes allow smart navigation through objects eventually null -->
        <velocity template="class2optional.vm"
                    items="${classes}"
                    target='${project}-api/src/main/java/${current.owningPackage.name.replaceAll("\\.", "/")}/${prefix}${current.name}Optional.java'/>

    </transformation-set>

</mda>



